{"version":3,"names":["api","loadPracticeData","_asyncToGenerator2","_regeneratorRuntime2","mark","_callee","_yield$common_vendor$","_yield$common_vendor$2","err","res","wrap","_callee$","_context","prev","next","common_vendor","index","request","url","method","sent","_slicedToArray2","Error","abrupt","data","t0","__f__","stop","speechToText","audioPath","_callee2","_callee2$","_context2","Promise","resolve","reject","ai","translateVoiceToText","filePath","lang","success","result","fail","submitEvaluation","_callee3","_yield$common_vendor$3","_yield$common_vendor$4","_callee3$","_context3","config","deepseek","apiUrl","header","Authorization","concat","apiKey"],"sources":["index.js"],"sourcesContent":["import config from \"../config\";\n\nexport default {\n  // 加载练习数据\n  async loadPracticeData() {\n    try {\n      const [err, res] = await uni.request({\n        url: \"/static/dataset.json\",\n        method: \"GET\",\n      });\n      if (err) {\n        throw new Error(\"Failed to load practice data\");\n      }\n      return res.data;\n    } catch (error) {\n      console.error(\"Error loading practice data:\", error);\n      return null;\n    }\n  },\n\n  // 语音转文字\n  async speechToText(audioPath) {\n    return new Promise((resolve, reject) => {\n      uni.ai.translateVoiceToText({\n        filePath: audioPath,\n        lang: \"en\",\n        success: (res) => {\n          resolve(res.result);\n        },\n        fail: (err) => {\n          reject(err);\n        },\n      });\n    });\n  },\n\n  // 提交评价\n  async submitEvaluation(data) {\n    try {\n      const [err, res] = await uni.request({\n        url: config.deepseek.apiUrl,\n        method: \"POST\",\n        header: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${config.deepseek.apiKey}`,\n        },\n        data: data,\n      });\n\n      if (err) {\n        throw new Error(\"Evaluation failed\");\n      }\n\n      return res.data;\n    } catch (error) {\n      console.error(\"Error submitting evaluation:\", error);\n      throw error;\n    }\n  },\n};\n"],"mappings":"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","ignoreList":[]}