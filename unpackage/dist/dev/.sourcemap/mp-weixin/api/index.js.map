{"version":3,"file":"index.js","sources":["api/index.js"],"sourcesContent":["import config from \"../config\";\n\nexport default {\n  // 加载练习数据\n  async loadPracticeData() {\n    try {\n      const [err, res] = await uni.request({\n        url: \"/static/dataset.json\",\n        method: \"GET\",\n      });\n      if (err) {\n        throw new Error(\"Failed to load practice data\");\n      }\n      return res.data;\n    } catch (error) {\n      console.error(\"Error loading practice data:\", error);\n      return null;\n    }\n  },\n\n  // 语音转文字\n  async speechToText(audioPath) {\n    return new Promise((resolve, reject) => {\n      uni.ai.translateVoiceToText({\n        filePath: audioPath,\n        lang: \"en\",\n        success: (res) => {\n          resolve(res.result);\n        },\n        fail: (err) => {\n          reject(err);\n        },\n      });\n    });\n  },\n\n  // 提交评价\n  async submitEvaluation(data) {\n    try {\n      const [err, res] = await uni.request({\n        url: config.deepseek.apiUrl,\n        method: \"POST\",\n        header: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${config.deepseek.apiKey}`,\n        },\n        data: data,\n      });\n\n      if (err) {\n        throw new Error(\"Evaluation failed\");\n      }\n\n      return res.data;\n    } catch (error) {\n      console.error(\"Error submitting evaluation:\", error);\n      throw error;\n    }\n  },\n};\n"],"names":["uni","config"],"mappings":";;;AAEA,MAAe,MAAA;AAAA;AAAA,EAEb,MAAM,mBAAmB;AACvB,QAAI;AACF,YAAM,CAAC,KAAK,GAAG,IAAI,MAAMA,cAAAA,MAAI,QAAQ;AAAA,QACnC,KAAK;AAAA,QACL,QAAQ;AAAA,MAChB,CAAO;AACD,UAAI,KAAK;AACP,cAAM,IAAI,MAAM,8BAA8B;AAAA,MAC/C;AACD,aAAO,IAAI;AAAA,IACZ,SAAQ,OAAO;AACdA,oBAAc,MAAA,MAAA,SAAA,sBAAA,gCAAgC,KAAK;AACnD,aAAO;AAAA,IACR;AAAA,EACF;AAAA;AAAA,EAGD,MAAM,aAAa,WAAW;AAC5B,WAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtCA,oBAAG,MAAC,GAAG,qBAAqB;AAAA,QAC1B,UAAU;AAAA,QACV,MAAM;AAAA,QACN,SAAS,CAAC,QAAQ;AAChB,kBAAQ,IAAI,MAAM;AAAA,QACnB;AAAA,QACD,MAAM,CAAC,QAAQ;AACb,iBAAO,GAAG;AAAA,QACX;AAAA,MACT,CAAO;AAAA,IACP,CAAK;AAAA,EACF;AAAA;AAAA,EAGD,MAAM,iBAAiB,MAAM;AAC3B,QAAI;AACF,YAAM,CAAC,KAAK,GAAG,IAAI,MAAMA,cAAAA,MAAI,QAAQ;AAAA,QACnC,KAAKC,OAAAA,OAAO,SAAS;AAAA,QACrB,QAAQ;AAAA,QACR,QAAQ;AAAA,UACN,gBAAgB;AAAA,UAChB,eAAe,UAAUA,OAAM,OAAC,SAAS,MAAM;AAAA,QAChD;AAAA,QACD;AAAA,MACR,CAAO;AAED,UAAI,KAAK;AACP,cAAM,IAAI,MAAM,mBAAmB;AAAA,MACpC;AAED,aAAO,IAAI;AAAA,IACZ,SAAQ,OAAO;AACdD,oBAAc,MAAA,MAAA,SAAA,sBAAA,gCAAgC,KAAK;AACnD,YAAM;AAAA,IACP;AAAA,EACF;AACH;;"}